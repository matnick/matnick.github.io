(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{163:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._m(5),t._v(" "),t._m(6),a("p",[t._v("Например, это позволяет передавать между скриптами функции или таблицы, которые нельзя напрямую передать через BUS.")]),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),a("p",[t._v("Примеры использования:")]),t._v(" "),t._m(17),t._m(18),t._v(" "),t._m(19),t._v(" "),a("p",[t._v("Данные, поступающие из драйверов или скриптов, могут обновлять значение топика в стандартном (standard) или теневом (shadow) режиме. В первом случае, отработают все скрипты, которые подписаны на изменения значения топика, во втором случае, значение будет изменено без запуска скриптов. При обновлении самим скриптом топика, на который он подписан, коллбек в скрипте вызываться не будет.")]),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),a("p",[t._v("Получает содержимое центральной шины (bus) в виде вложенной таблицы."),a("br"),t._v("\nИспользование: "),a("code",[t._v("local table = bus_serialize(pattern)")]),a("br"),t._v('\nВозвращает таблицу. Если передана переменная "pattern", то будет выбрана только часть таблицы, соответствующая заданному шаблону. Шаблоны соответствуют правилам '),a("a",{attrs:{href:"https://www.lua.org/pil/20.2.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("lua patterns"),a("OutboundLink")],1)]),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),a("p",[t._v("Примеры использования:")]),t._v(" "),t._m(26),t._m(27),t._v(" "),t._m(28),t._v(" "),a("p",[t._v("Пример использования:")]),t._v(" "),t._m(29),t._m(30),t._v(" "),a("p",[t._v("Для использования этих библиотек не нужно делать require, они уже есть в области видимости каждого скрипта.")]),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),t._m(33),a("p",[a("a",{attrs:{href:"https://www.tarantool.io/en/doc/1.9/reference/reference_lua/http/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Документация"),a("OutboundLink")],1)]),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),t._m(36),a("p",[a("a",{attrs:{href:"https://github.com/tarantool/mqtt",target:"_blank",rel:"noopener noreferrer"}},[t._v("Документация"),a("OutboundLink")],1)]),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),t._m(39),a("p",[a("a",{attrs:{href:"https://www.tarantool.io/en/doc/1.9/reference/reference_lua/json/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Документация"),a("OutboundLink")],1)]),t._v(" "),t._m(40),t._v(" "),t._m(41),t._v(" "),t._m(42),a("p",[a("a",{attrs:{href:"https://www.tarantool.io/en/doc/1.9/reference/reference_lua/socket/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Документация"),a("OutboundLink")],1)]),t._v(" "),t._m(43),t._v(" "),t._m(44),t._v(" "),t._m(45),a("p",[a("a",{attrs:{href:"https://www.tarantool.io/en/doc/1.9/reference/reference_lua/fiber/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Документация"),a("OutboundLink")],1)]),t._v(" "),t._m(46),t._v(" "),t._m(47),t._v(" "),a("p",[t._v('Драйвера — это скрипты на Lua, которые реализуют тот или иной протокол(часто с привлечением сторонних библиотек) для связи с устройством, конвертируя данные приходящие с каждого устройства в единый формат. Они работают в качестве транслятора между "языком" устройства и общей шиной.'),a("br"),t._v(" "),a("br"),t._v(" "),a("router-link",{attrs:{to:"./examples_driver.html"}},[t._v("Примеры драйверов")])],1),t._v(" "),t._m(48),t._v(" "),t._m(49),t._v(" "),t._m(50),t._v(" "),t._m(51),t._m(52),t._v(" "),t._m(53),t._v(" "),a("p",[a("router-link",{attrs:{to:"./examples_bus_event.html"}},[t._v("Примеры bus-event скриптов")])],1),t._v(" "),t._m(54),t._v(" "),a("p",[t._v('Скрипты, выполняемые при обращении к выбранному URL ("endpoint") с помощью HTTP запроса.')]),t._v(" "),t._m(55),t._v(" "),t._m(56),t._v(" "),t._m(57),t._v(" "),t._m(58),t._v(" "),a("p",[t._v("В скриптах доступны переменные, содержащие данные запроса:")]),t._v(" "),a("ul",[t._m(59),t._v(" "),a("li",[a("code",[t._v("req")]),t._v(" - объект запроса "),a("a",{attrs:{href:"https://github.com/tarantool/http",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP сервера Tarantool"),a("OutboundLink")],1)])]),t._v(" "),t._m(60),a("p",[t._v("Если в функции "),a("code",[t._v("http_callback()")]),t._v(" вернуть одно значение-таблицу (напр. "),a("code",[t._v("return table")]),t._v("), то она будет сериализована в JSON и в таком виде отдана клиенту http-сервера."),a("br"),t._v("\nЕсли необходимо управлять возвращаемыми данными напрямую, то надо вернуть 2 значения (напр. "),a("code",[t._v("return nil, 'OK'")]),t._v('), тогда первое значение будет отброшено, а второе - выдано клиенту в "сыром" виде без сериализации. Для дополнительных сведений смотрите документацию '),a("a",{attrs:{href:"https://github.com/tarantool/http",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP сервера Tarantool"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("router-link",{attrs:{to:"./examples_web_event.html"}},[t._v("Примеры web-event скриптов")])],1),t._v(" "),t._m(61),t._v(" "),a("p",[t._v("Скрипты, выполняемые с определенным интервалом (указывается в секундах).")]),t._v(" "),t._m(62),t._v(" "),a("p",[t._v("Для создания скрипта, укажите его название и желаемый интервал его выполнения в секундах.")]),t._v(" "),t._m(63),t._v(" "),t._m(64),a("p",[a("router-link",{attrs:{to:"./examples_timer_event.html"}},[t._v("Примеры timer-event скриптов")])],1),t._v(" "),t._m(65),t._v(" "),a("p",[t._v("Скрипты, выполняемые по заданному расписанию.")]),t._v(" "),t._m(66),t._v(" "),a("p",[t._v("Для создания скрипта, укажите его название и расписание в формате "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Cron",target:"_blank",rel:"noopener noreferrer"}},[t._v("crontab"),a("OutboundLink")],1),t._v("."),a("br"),t._v('\nФормат отличается от стандартного необходимостью указания секунд в интервале (первый символ). Если вам не нужны секунды, укажите в первом символе "0". Не указываете там "*", иначе скрипт будет запускаться каждую секунду в подходящих интервалах.')]),t._v(" "),t._m(67),a("p",[t._v("К примеру, с такими настройками расписания, скрипт будет запускаться по четвергам в 13:45:15")]),t._v(" "),t._m(68),t._m(69),t._v(" "),t._m(70),a("p",[a("router-link",{attrs:{to:"./examples_shedule_event.html"}},[t._v("Примеры shedule-event скриптов")])],1)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"документация-разработчика"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#документация-разработчика","aria-hidden":"true"}},[this._v("#")]),this._v(" Документация разработчика")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"общая-информация"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#общая-информация","aria-hidden":"true"}},[this._v("#")]),this._v(" Общая информация")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"внутренние-переменные-скрипта"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#внутренние-переменные-скрипта","aria-hidden":"true"}},[this._v("#")]),this._v(" Внутренние переменные скрипта")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[a("code",[t._v("_script_name")]),t._v(" - переменная, содержащая название текущего скрипта"),a("br"),t._v(" "),a("code",[t._v("_script_uuid")]),t._v(" -  переменная, содержащая uuid (уникальный идентификатор) текущего скрипта"),a("br"),t._v(" "),a("code",[t._v("store")]),t._v(" - таблица для хранения временных данных, уникальная для каждого скрипта. Ее можно использовать просто как переменную:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[t._v("store"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("5")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("print")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("store"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("-- 5")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("main_store")]),this._v(" - таблица, в которой находятся хранилища всех запущенных с момента запуска системы скриптов."),s("br"),this._v('\nПервый уровень таблицы — UUID скриптов. Второй уровень — store каждого скрипта. UUID скрипта можно узнать, нажав на значок "i" в интерфейсе. С помощью этой таблицы можно получать доступ к хранилищам других скриптов:')])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[t._v("store"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("table "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token number"}},[t._v("3")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token number"}},[t._v("4")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token number"}},[t._v("5")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("print")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main_store"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v('"8d72fe2f-801e-48d1-ac1a-526f3e2622c0"')]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("table"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("-- { 1, 2, 3, 4, 5 }")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"функции-дnя-работы-с-nогами"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#функции-дnя-работы-с-nогами","aria-hidden":"true"}},[this._v("#")]),this._v(" Функции для работы с логами")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"функции-log-info-log-warning-log-error-log-user"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#функции-log-info-log-warning-log-error-log-user","aria-hidden":"true"}},[this._v("#")]),this._v(" Функции log_info(), log_warning(), log_error(), log_user()")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v('Добавляют в системный лог запись уровня "INFO", "WARNING", "ERROR" и "USER" соответственно.'),a("br"),t._v("\nИспользование: "),a("code",[t._v('log_info("Found correlation!")')]),t._v(", "),a("code",[t._v('log_warning("Found correlation!")')]),t._v(" , "),a("code",[t._v('log_error("Found correlation!")')]),t._v(" , "),a("code",[t._v('log_user("Found correlation!")')]),t._v("\nНичего не возвращает.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"функции-log-и-print"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#функции-log-и-print","aria-hidden":"true"}},[this._v("#")]),this._v(" Функции log() и print()")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("log()")]),this._v(" - алиас для функции log_user()"),s("br"),this._v(" "),s("code",[this._v("print()")]),this._v(" - алиас для функции log_user()")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"функции-дnя-работы-с-центраnьной-шиной"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#функции-дnя-работы-с-центраnьной-шиной","aria-hidden":"true"}},[this._v("#")]),this._v(" Функции для работы с центральной шиной")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"функция-set-value"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#функция-set-value","aria-hidden":"true"}},[this._v("#")]),this._v(" Функция set_value()")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v('Обновляет топик "topic", устанавливая значение "value".'),s("br"),this._v("\nИспользование: "),s("code",[this._v("set_value(topic, value, check_flag, update_time)")]),s("br"),this._v("\nНичего не возвращает.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Параметр "),s("strong",[this._v("check_flag")]),this._v(" определяет, будет ли проверяться перед изменением значение изменяемого топика."),s("br"),this._v('\nЕсли параметр check_flag равен "CHECK_VALUE", то функция проверит равенство передаваемого в нее значение и старого значения в топике, и если они равны — не будет обновлять топик(т.е. не будут запущены событийные скрипты, и не будет обновлено время обновления топика). Если параметр равен чему-то другому (или не передается вообще, т.е. равен nil), то проверки производиться не будет, и значение топика будет обновлено в любом случае.'),s("br"),this._v("\nЭто поведение используется для случаев, когда функции могут вернуть значение, равное значению топика, и логика работы такова, что при этом нет необходимости активировать событийные скрипты.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Параметр "),s("strong",[this._v("update_time")]),this._v(" переопределяет время обновления топика. Если update_time не указано, используется текущее системное время. Формат update_time — unix-time в секундах текущего часового пояса, допускаются десятые, сотые и тысячные доли."),s("br"),this._v("\nЭто поведение используется, например, если в драйвере запрашиваются исторические данные через API и необходимо, чтобы в выгрузку в TSDB они ушли с временем из истории, а не с текущим. Тогда в BUS загружаются исторические данные, используя параметр update_time, и они с этим временем выгружаются в TSDB."),s("br"),this._v("\nОбратите внимание, что поле Update time в bus storage в этом случае не будет соответствовать реальности — несмотря на то, что топик был обновлен только что, время обновления в интерфейсе будет равно переданному в set_value параметру update_time.")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("set_value")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"/test/device"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"5"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("set_value")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"/test/device"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"5"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("nil")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" os"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("time")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token number"}},[t._v("60")]),a("span",{attrs:{class:"token operator"}},[t._v("*")]),a("span",{attrs:{class:"token number"}},[t._v("60")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("set_value")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"/test/device"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"5"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"CHECK_VALUE"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" os"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("time")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token number"}},[t._v("60")]),a("span",{attrs:{class:"token operator"}},[t._v("*")]),a("span",{attrs:{class:"token number"}},[t._v("60")]),a("span",{attrs:{class:"token operator"}},[t._v("*")]),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"функция-shadow-set-value"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#функция-shadow-set-value","aria-hidden":"true"}},[this._v("#")]),this._v(" Функция shadow_set_value()")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v('Обновляет топик, устанавливая значение "value", но не запускает event-скрипты, которые подписаны на этот топик.'),s("br"),this._v("\nИспользование: "),s("code",[this._v("shadow_set_value(topic, value)")]),s("br"),this._v("\nНичего не возвращает.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"функция-get-value"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#функция-get-value","aria-hidden":"true"}},[this._v("#")]),this._v(" Функция get_value()")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Получает значение и метаинформацию топика."),s("br"),this._v("\nИспользование: "),s("code",[this._v("local value, update_time, type, tags = get_value(topic)")]),s("br"),this._v("\nВозвращает поля value, update_time, type, tags  ")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"функция-bus-serialize"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#функция-bus-serialize","aria-hidden":"true"}},[this._v("#")]),this._v(" Функция bus_serialize()")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"вспомогатеnьные-функции"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#вспомогатеnьные-функции","aria-hidden":"true"}},[this._v("#")]),this._v(" Вспомогательные функции")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"функция-round"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#функция-round","aria-hidden":"true"}},[this._v("#")]),this._v(" Функция round()")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v('Функция для "правильного" математического округления с произвольной точностью.'),s("br"),this._v("\nПолучает число и количество знаков после запятой, возвращает округленное число. Если количество знаков не указано, используется 2."),s("br"),this._v("\nИспользование: "),s("code",[this._v("local round_value = round(value, rounds)")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("local")]),t._v(" value "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("3.1415926535")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("print")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token function"}},[t._v("round")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("--\x3e 3.14")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("print")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token function"}},[t._v("round")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("--\x3e 3.14")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("print")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token function"}},[t._v("round")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("3")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("--\x3e 3.142")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"функция-deepcopy"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#функция-deepcopy","aria-hidden":"true"}},[this._v("#")]),this._v(" Функция deepcopy()")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Функция для копирования таблиц lua(если попытаться скопировать таблицу "),s("code",[this._v("table_a = table_b")]),this._v(", мы получим две ссылки на одну и ту же таблицу)."),s("br"),this._v("\nПолучает таблицу, возвращает копию таблицу. Таблица не должна быть рекурсивной, иначе функция переполнит стек."),s("br"),this._v("\nИспользование: "),s("code",[this._v("local copy_table = deepcopy(table)")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("local")]),t._v(" old_table "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("4")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("local")]),t._v(" copy_table "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("deepcopy")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("old_table"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"встроенные-бибnиотеки"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#встроенные-бибnиотеки","aria-hidden":"true"}},[this._v("#")]),this._v(" Встроенные библиотеки")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"бибnиотека-http-client"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#бибnиотека-http-client","aria-hidden":"true"}},[this._v("#")]),this._v(" Библиотека HTTP Client")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("Библиотека, реализующая примитивы для http-запросов."),a("br"),t._v("\nУже созданный экземпляр доступен через объект "),a("code",[t._v("http_client")]),t._v(", т.е. для метода "),a("code",[t._v("request()")]),t._v(" нужно вызвать "),a("code",[t._v("http_client.request()")]),a("br"),t._v("\nПример использования:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("local")]),t._v(" r "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" http_client"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token function"}},[t._v("get")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'http://google.com'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("print")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("r"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"бибnиотека-mqtt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#бибnиотека-mqtt","aria-hidden":"true"}},[this._v("#")]),this._v(" Библиотека MQTT")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Библиотека, реализующая клиента протокола MQTT. Доступна через объект "),s("code",[this._v("mqtt")]),s("br"),this._v("\nПример использования:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("local")]),t._v(" mqtt_object "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" mqtt"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("new")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"client_id"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmqtt_object"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token function"}},[t._v("connect")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" host"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v("'127.0.0.1'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" port"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token number"}},[t._v("1883")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nok"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" mqtt_object"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token function"}},[t._v("subscribe")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'my/topic/#'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nok"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" mqtt_object"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token function"}},[t._v("publish")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'my/topic/#'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'Some payload as string'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mqtt"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("QOS_0"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mqtt"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("RETAIN"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"бибnиотека-json"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#бибnиотека-json","aria-hidden":"true"}},[this._v("#")]),this._v(" Библиотека JSON")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Библиотека, конвертирующая таблицы lua в json и обратно. Доступна через объект "),s("code",[this._v("json")]),s("br"),this._v("\nПример использования:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[t._v("json"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("encode")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("abc "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("234")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cde "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("345")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('--\x3e \'{"cde":345,"abc":234}\'')]),t._v("\njson"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("decode")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'[123, \"hello\"]'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("--\x3e [123, 'hello']")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"бибnиотека-socket"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#бибnиотека-socket","aria-hidden":"true"}},[this._v("#")]),this._v(" Библиотека Socket")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Библиотека для доступа к системным сокетам. Доступна через объект "),s("code",[this._v("socket")]),s("br"),this._v("\nПример использования:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("local")]),t._v(" sock_1 "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("socket")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'AF_INET'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'SOCK_DGRAM'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'udp'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("local")]),t._v(" sock_2 "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("socket")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'AF_INET'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'SOCK_DGRAM'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'udp'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nsock_1"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token function"}},[t._v("bind")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'127.0.0.1'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nsock_2"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token function"}},[t._v("sendto")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'127.0.0.1'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sock_1"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token function"}},[t._v("name")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token string"}},[t._v("'X'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmessage "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" sock_1"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token function"}},[t._v("recvfrom")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("print")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("message"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("--\x3e X")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"бибnиотека-fiber"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#бибnиотека-fiber","aria-hidden":"true"}},[this._v("#")]),this._v(" Библиотека Fiber")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("Библиотека для работы с потоками. Доступна через объект "),a("code",[t._v("fiber")]),a("br"),t._v("\nНе стоит подключать библиотеку fiber вручную, т.е. делать \"local fiber = require 'fiber'\"."),a("br"),t._v("\nВ этом случае, ошибки внутри тредов fiber не попадут в лог конкретного скрипта и не сгенерируют ошибку, что усложняет отладку."),a("br"),t._v("\nВ библиотеке доступны методы "),a("code",[t._v("fiber.sleep()")]),t._v(", "),a("code",[t._v("fiber.create()")]),t._v(", "),a("code",[t._v("fiber.kill()")]),t._v(", "),a("code",[t._v("fiber.yield()")]),t._v(", "),a("code",[t._v("fiber.self()")]),t._v(", "),a("code",[t._v("fiber.status()")]),t._v(". Для остальных нужно делать require и оборачивать функции, которые запускаются через "),a("code",[t._v("fiber.create()")]),t._v(" в "),a("code",[t._v("pcall()")]),t._v("/"),a("code",[t._v("xpcall()")]),t._v("."),a("br"),t._v("\nПример использования:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("local")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("loop")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),a("span",{attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("true")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n      "),a("span",{attrs:{class:"token function"}},[t._v("print")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"tick"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      fiber"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("sleep")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token number"}},[t._v("1.2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("--seconds")]),t._v("\n   "),a("span",{attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("end")]),t._v("\nfiber"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("create")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("loop"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"скрипты-и-драйвера"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#скрипты-и-драйвера","aria-hidden":"true"}},[this._v("#")]),this._v(" Скрипты и драйвера")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"drivers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#drivers","aria-hidden":"true"}},[this._v("#")]),this._v(" Drivers")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"bus-event-scripts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bus-event-scripts","aria-hidden":"true"}},[this._v("#")]),this._v(" Bus-event scripts")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Этот тип скриптов выполняется для каждого устройства из группы устройств, определяемых маской, при обновлении их данных на центральной шине."),s("br"),this._v(" "),s("img",{attrs:{src:"images/busEventScriptList.png",alt:"Bus-event scripts",title:"Bus-event scripts"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("В теле скрипта должна присутствовать функция "),s("code",[this._v("event_handler()")]),this._v(", в которую будет передано значение измененного топика и его адрес:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("event_handler")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" topic"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),a("span",{attrs:{class:"token function"}},[t._v("print")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" topic"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('--\x3e "5 /test/device"')]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Также, в теле скрипта, можно создать функции "),s("code",[this._v("init()")]),this._v(" и "),s("code",[this._v("destroy()")]),this._v(", которые будут вызваны при инициализации скрипта и его выгрузке соответственно."),s("br"),this._v("\nЭто может быть полезно, например, если нужно сделать экспорт множества топиков по маске в MQTT.")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("У Bus-event скриптов существует возможность однократного запуска нажатием кнопки "),a("strong",[t._v('"Run Once"')]),t._v(" на странице редактиования скрипта или на странице со списком скриптов."),a("br"),t._v("\nПри однократном запуске, принудительно запускается "),a("code",[t._v("event_handler()")]),t._v(" c аргументами "),a("code",[t._v("value=0")]),t._v(", "),a("code",[t._v('topic="once"')]),t._v(". Не выполняются "),a("code",[t._v("init()")]),t._v(" и "),a("code",[t._v("destroy()")]),t._v(".\nОднократный запуск полезен для отладки и совершения разовых действий.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"web-event-scripts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#web-event-scripts","aria-hidden":"true"}},[this._v("#")]),this._v(" Web-event scripts")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"images/webScriptsList.png",alt:"Web-event scripts",title:"Web-event scripts"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Функция, реализующая непосредственную логику при обработке запроса — "),s("code",[this._v("http_callback()")]),this._v(".")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("При создании web-event скрипта, необходимо дать ему название и указать endpoint."),a("br"),t._v("\nПолный адрес скрипта формируется как "),a("code",[t._v("адрес_сервера:порт")]),t._v(" + "),a("code",[t._v("/we/")]),t._v(" + "),a("code",[t._v("endpoint")]),t._v(' и отображается в нижней части модального окна как "Full script URL".')])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"images/createWebEventScript.png",alt:"Создание web-event скрипта",title:"Создание web-event скрипта"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("code",[this._v("params")]),this._v(" - массив с параметрами запроса")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("http_callback")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("params"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" req"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("data"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("params"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"timer-event-scripts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#timer-event-scripts","aria-hidden":"true"}},[this._v("#")]),this._v(" Timer-event scripts")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"images/createTimerEventScript.png",alt:"Timer-event script",title:"Timer-event script"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Код скрипта должен находиться внутри функции "),s("code",[this._v("event_handler()")]),this._v(".")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("event_handler")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),a("span",{attrs:{class:"token function"}},[t._v("print")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"Timer event start"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"schedule-scripts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#schedule-scripts","aria-hidden":"true"}},[this._v("#")]),this._v(" Schedule scripts")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"images/scheduleScript.png",alt:"Schedule script",title:"Schedule script"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("┌───────────── секунды (0 - 59)\n│ ┌───────────── минуты (0 - 59)\n│ │ ┌───────────── часы (0 - 23)\n│ │ │ ┌───────────── дни месяца (1 - 31)\n│ │ │ │ ┌───────────── месяца (JAN-DEC или 1 - 12)\n│ │ │ │ │ ┌───────────── день недели (SUN-SAT или 0 - 6) (с воскресения до субботы)\n│ │ │ │ │ │\n│ │ │ │ │ │\n* * * * * *\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v(" 15 45 13 * * 4\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Код скрипта должен находиться внутри функции "),s("code",[this._v("event_handler()")]),this._v(".")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("event_handler")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),a("span",{attrs:{class:"token function"}},[t._v("print")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"Shedule event start"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])])}],!1,null,null,null);e.options.__file="developers.md";s.default=e.exports}}]);